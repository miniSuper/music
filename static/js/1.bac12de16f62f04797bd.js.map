{"version":3,"sources":["webpack:///src/components/disc/disc.vue","webpack:///./src/components/disc/disc.vue?8940","webpack:///./src/components/disc/disc.vue","webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?844e","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?63a4","webpack:///./src/components/recommend/recommend.vue","webpack:///./src/api/recommend.js"],"names":["data","songs","computed","extends_default","title","this","disc","dissname","bgImage","imgurl","Object","vuex_esm","methods","_getSongList","_this","dissid","recommend","then","res","_normalizeSongs","cdlist","songlist","$router","push","list","ret","forEach","musicData","songid","albumid","song","components","MusicList","music_list","created","disc_disc","render","_h","$createElement","_c","_self","attrs","name","bg-image","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","slider","props","loop","type","Boolean","default","autoPlay","interval","Number","dots","currentPageIndex","_setSliderWidth","isResize","children","$refs","sliderGroup","width","sliderWidth","clientWidth","i","length","child","dom","style","_initSlider","bscroll_esm","scrollX","scrollY","momentum","snap","threshold","speed","on","pageIndex","getCurrentPage","pageX","_play","clearTimeout","timer","_initDots","Array","_this2","setTimeout","goToPage","mounted","_this3","window","addEventListener","refresh","activated","deactivated","beforeDestroy","slider_slider","_vm","ref","staticClass","_t","_v","_l","item","index","key","class","active","base_slider_slider","recommend_recommend","mixins","mixin","recommends","discList","handlePlaylist","playlist","bottom","scroll","_getRecommend","code","config","_getDiscList","whenImageLoaded","checkloaded","selectItem","path","setDisc","Slider","Scroll","scroll_scroll","Loading","loading","Disc","components_recommend_recommend","href","linkUrl","src","picUrl","load","_e","click","$event","directives","rawName","value","expression","height","domProps","innerHTML","_s","creator","recommend_Component","recommend_normalizeComponent","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_3__config__","platform","uni","needNewCode","__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__","hostUin","sin","ein","sortId","categoryId","rnd","Math","random","format","__WEBPACK_IMPORTED_MODULE_4_axios___default","a","get","params","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","disstid","json","utf8","onlysong","g_tk","loginUin","notice"],"mappings":"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","file":"static/js/1.bac12de16f62f04797bd.js","sourcesContent":["<template>\n  <transition name=\"slide\">\n    <music-list :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\n  </transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport MusicList from 'components/music-list/music-list'\nimport { mapGetters } from 'vuex'\nimport { getSongList } from 'api/recommend'\nimport { createSong } from 'common/js/song'\nexport default {\n  data () {\n    return {\n      songs: []\n    }\n  },\n  computed: {\n    title () {\n      return this.disc.dissname\n    },\n    bgImage () {\n      return this.disc.imgurl\n    },\n    ...mapGetters([\n      'disc'\n    ])\n  },\n  // watch: {\n  //   '$route' (to, from) {\n  //     console.log(to.params.id, from.params.id)\n  //   }\n  // },\n  methods: {\n    _getSongList () {\n      // console.log(this.$route.params.id)\n      // let id = this.disc.dissid || this.$route.params.id\n      if (!this.disc.dissid) {\n        this.$router.push('/recommend')\n        return\n      }\n      getSongList(this.disc.dissid).then(res => {\n        this.songs = this._normalizeSongs(res.cdlist[0].songlist)\n      })\n    },\n    _normalizeSongs (list) {\n      let ret = []\n      list.forEach(musicData => {\n        if (musicData.songid && musicData.albumid) {\n          ret.push(createSong(musicData))\n        }\n      })\n      return ret\n    }\n  },\n  components: {\n    MusicList\n  },\n  created () {\n    this._getSongList()\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n.slide-enter-active, .slide-leave-active\n  transition all 0.3s\n\n.slide-enter, .slide-leave-to\n  transform translate3d(100%, 0, 0)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/disc/disc.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-d35f0498\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/disc/disc.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d35f0498\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./disc.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./disc.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./disc.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d35f0498\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./disc.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d35f0498\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/disc/disc.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"slider\" ref=\"slider\">\n    <div class=\"slider-group\" ref=\"sliderGroup\">\n      <slot></slot>\n    </div>\n    <div class=\"dots\">\n      <span class=\"dot\" :class=\"{active: currentPageIndex === index}\" v-for=\"(item,index) in dots\" :key=\"index\"></span>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport { addClass } from 'common/js/dom'\nimport BScroll from 'better-scroll'\nexport default {\n  name: 'slider',\n  props: {\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    autoPlay: {\n      type: Boolean,\n      default: true\n    },\n    interval: {\n      type: Number,\n      default: 1000\n    }\n  },\n  data () {\n    return {\n      dots: [],\n      currentPageIndex: 0\n    }\n  },\n  components: {\n\n  },\n  methods: {\n    _setSliderWidth (isResize) {\n      this.children = this.$refs.sliderGroup.children\n      let width = 0\n      let sliderWidth = this.$refs.slider.clientWidth\n      for (let i = 0; i < this.children.length; i++) {\n        let child = this.children[i]\n        addClass(child, 'slider-item')\n        child.style.width = sliderWidth + 'px'\n        width += sliderWidth\n      }\n      if (this.loop && !isResize) {\n        width += 2 * sliderWidth\n      }\n      this.$refs.sliderGroup.style.width = width + 'px'\n    },\n    _initSlider () {\n      this.slider = new BScroll(this.$refs.slider, {\n        scrollX: true,\n        scrollY: false,\n        momentum: false,\n        snap: {\n          loop: this.loop,\n          threshold: 0.3,\n          speed: 400\n        }\n      })\n      this.slider.on('scrollEnd', () => {\n        let pageIndex = this.slider.getCurrentPage().pageX\n        if (this.loop) {\n          pageIndex -= 1\n        }\n        this.currentPageIndex = pageIndex\n        if (this.autoPlay) {\n          this._play()\n        }\n      })\n      this.slider.on('beforeScrollStart', () => {\n        if (this.autoPlay) {\n          clearTimeout(this.timer)\n        }\n      })\n    },\n    _initDots () {\n      this.dots = new Array(this.children.length - 2)\n    },\n    _play () {\n      let pageIndex = this.currentPageIndex + 1\n      if (this.loop) {\n        pageIndex += 1\n      }\n      this.timer = setTimeout(() => {\n        this.slider.goToPage(pageIndex, 0, 400)\n      }, this.interval)\n    }\n  },\n  mounted () {\n    setTimeout(() => {\n      this._setSliderWidth()\n      this._initSlider()\n      this._initDots()\n\n      if (this.autoPlay) {\n        this._play()\n      }\n    }, 20)\n\n    window.addEventListener('resize', () => {\n      if (!this.slider) {\n        return\n      }\n      this._setSliderWidth(true)\n      this.slider.refresh()\n    })\n  },\n  activated () {\n    if (this.autoPlay) {\n      this._play()\n    }\n  },\n  deactivated () {\n    clearTimeout(this.timer)\n  },\n  beforeDestroy () {\n    clearTimeout(this.timer)\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n@import '~common/stylus/variable'\n\n.slider\n  min-height 1px\n\n  .slider-group\n    position relative\n    overflow hidden\n    white-space nowrap\n\n    .slider-item\n      float left\n      box-sizing border-box\n      overflow hidden\n      text-align center\n\n      a\n        display block\n        width 100%\n        overflow hidden\n        text-decoration none\n\n      img\n        display block\n        width 100%\n\n  .dots\n    position absolute\n    right 0\n    left 0\n    bottom 12px\n    text-align center\n    font-size 0\n\n    .dot\n      display inline-block\n      margin 0 4px\n      width 8px\n      height 8px\n      border-radius 50%\n      background $color-text-l\n\n      &.active\n        width 20px\n        border-radius 5px\n        background $color-text-ll\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,staticClass:\"dot\",class:{active: _vm.currentPageIndex === index}})}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-4da55d0e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4da55d0e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4da55d0e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4da55d0e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"recommend\" ref=\"recommend\">\n    <scroll class=\"recommend-content\" :data=\"discList\" ref=\"scroll\">\n      <div>\n        <div v-if=\"recommends.length\" class=\"slider-wrapper\">\n          <slider>\n            <div v-for=\"item in recommends\" :key=\"item.index\">\n              <a :href=\"item.linkUrl\">\n                <img @load=\"whenImageLoaded\" :src=\"item.picUrl\" class=\"needsclick\">\n              </a>\n            </div>\n          </slider>\n        </div>\n        <div class=\"recommend-list\">\n          <h1 class=\"list-title\">热门歌单推荐</h1>\n          <ul>\n            <li v-for=\"item in discList\" :key=\"item.index\" class=\"item\" @click=\"selectItem(item)\">\n              <div class=\"icon\">\n                <img width=\"60\" height=\"60\" v-lazy=\"item.imgurl\">\n              </div>\n              <div class=\"text\">\n                <h2 class=\"name\" v-html=\"item.creator.name\"></h2>\n                <p class=\"desc\" v-html=\"item.dissname\"></p>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <loading v-show=\"!discList.length\"></loading>\n      </div>\n    </scroll>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport Scroll from 'base/scroll/scroll'\nimport Loading from 'base/loading/loading'\nimport { getRecommend, getDiscList } from 'api/recommend'\nimport { ERR_OK } from 'api/config'\nimport Slider from 'base/slider/slider'\nimport { playlistMixin } from 'common/js/mixin'\nimport Disc from 'components/disc/disc'\nimport { mapMutations } from 'vuex'\n\nexport default {\n  mixins: [playlistMixin],\n  data () {\n    return {\n      recommends: [],\n      discList: []\n    }\n  },\n  methods: {\n    handlePlaylist (playlist) {\n      const bottom = playlist.length > 0 ? '60px' : ''\n      this.$refs.recommend.style.bottom = bottom\n      this.$refs.scroll.refresh()\n    },\n    _getRecommend () {\n      getRecommend().then(res => {\n        if (res.code === ERR_OK) {\n          this.recommends = res.data.slider\n        }\n      })\n    },\n    _getDiscList () {\n      getDiscList().then((res) => {\n        if (res.code === ERR_OK) {\n          this.discList = res.data.list\n        }\n      })\n    },\n    whenImageLoaded () {\n      if (!this.checkloaded) {\n        this.$refs.scroll.refresh()\n        this.checkloaded = true\n      }\n    },\n    selectItem (disc) {\n      this.$router.push({\n        path: `/recommend/${disc.dissid}`\n      })\n      this.setDisc(disc)\n    },\n    ...mapMutations({\n      setDisc: 'SET_DISC'\n    })\n  },\n  components: {\n    Slider,\n    Scroll,\n    Loading,\n    Disc\n  },\n  created () {\n    this._getRecommend()\n    setTimeout(() => {\n      this._getDiscList()\n    }, 1000)\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n@import '~common/stylus/variable'\n\n.recommend\n  position fixed\n  width 100%\n  top 88px\n  bottom 0\n\n  .recommend-content\n    height 100%\n    overflow hidden\n\n    .slider-wrapper\n      position relative\n      width 100%\n      overflow hidden\n\n    .recommend-list\n      .list-title\n        height 65px\n        line-height 65px\n        text-align center\n        font-size $font-size-medium\n        color $color-theme\n\n      .item\n        display flex\n        box-sizing border-box\n        align-items center\n        padding 0 20px 20px 20px\n\n        .icon\n          flex 0 0 60px\n          width 60px\n          padding-right 20px\n\n        .text\n          display flex\n          flex-direction column\n          justify-content center\n          flex 1\n          line-height 20px\n          overflow hidden\n          font-size $font-size-medium\n\n          .name\n            margin-bottom 10px\n            color $color-text\n\n          .desc\n            color $color-text-d\n\n    .loading-container\n      position absolute\n      width 100%\n      top 50%\n      transform translateY(-50%)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/recommend/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item){return _c('div',{key:item.index},[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{staticClass:\"needsclick\",attrs:{\"src\":item.picUrl},on:{\"load\":_vm.whenImageLoaded}})])])}))],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.discList),function(item){return _c('li',{key:item.index,staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}))]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}]})],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-d7b303fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d7b303fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d7b303fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d7b303fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","import jsonp from 'common/js/jsonp'\nimport { commonParams, options } from './config'\nimport axios from 'axios'\nexport function getRecommend() {\n  const url =\n    'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\n  const data = Object.assign({}, commonParams, {\n    platform: 'h5',\n    uni: 0,\n    needNewCode: 1\n  })\n  return jsonp(url, data, options)\n}\nexport function getDiscList() {\n  const url = '/api/getDiscList'\n\n  const data = Object.assign({}, commonParams, {\n    platform: 'yqq',\n    hostUin: 0,\n    sin: 0,\n    ein: 29,\n    sortId: 5,\n    needNewCode: 0,\n    categoryId: 10000000,\n    rnd: Math.random(),\n    format: 'json'\n  })\n\n  return axios\n    .get(url, {\n      params: data\n    })\n    .then(res => {\n      return Promise.resolve(res.data)\n    })\n}\n\nexport function getSongList(disstid) {\n  // let url = 'https://c.y.qq.com/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg'\n  let url = '/api/songlist'\n  const data = Object.assign({}, commonParams, {\n    disstid,\n    type: 1,\n    json: 1,\n    utf8: 1,\n    onlysong: 0,\n    format: 'json',\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    notice: 0,\n    platform: 'yqq',\n    needNewCode: 0\n  })\n  // return jsonp(url, data, options)\n  return axios\n    .get(url, {\n      params: data\n    })\n    .then(res => {\n      return Promise.resolve(res.data)\n    })\n}\n\n// export function getAllList() {\n//   const url = '/api/getAllList'\n//   const data = Object.assign({}, commonParams, {\n//     platform: 'yqq',\n//     loginUin: 0,\n//     hostUin: 0,\n//     needNewCode: 0,\n//     rnd: Math.random(),\n//     format: 'jsonp',\n//     data: {\n//       comm: { ct: 24 },\n//       category: {\n//         method: 'get_hot_category',\n//         param: { qq: '' },\n//         module: 'music.web_category_svr'\n//       },\n//       recomPlaylist: {\n//         method: 'get_hot_recommend',\n//         param: { async: 1, cmd: 2 },\n//         module: 'playlist.HotRecommendServer'\n//       },\n//       playlist: {\n//         method: 'get_playlist_by_category',\n//         param: { id: 8, curPage: 1, size: 40, order: 5, titleid: 8 },\n//         module: 'playlist.PlayListPlazaServer'\n//       },\n//       new_song: {\n//         module: 'QQMusic.MusichallServer',\n//         method: 'GetNewSong',\n//         param: { type: 0 }\n//       },\n//       new_album: {\n//         module: 'music.web_album_library',\n//         method: 'get_album_by_tags',\n//         param: {\n//           area: 1,\n//           company: -1,\n//           genre: -1,\n//           type: -1,\n//           year: -1,\n//           sort: 2,\n//           get_tags: 1,\n//           sin: 0,\n//           num: 40,\n//           click_albumid: 0\n//         }\n//       },\n//       toplist: {\n//         module: 'music.web_toplist_svr',\n//         method: 'get_toplist_index',\n//         param: {}\n//       },\n//       focus: {\n//         module: 'QQMusic.MusichallServer',\n//         method: 'GetFocus',\n//         param: {}\n//       }\n//     }\n//   })\n//   return axios\n//     .get(url, {\n//       params: data\n//     })\n//     .then(res => {\n//       return Promise.resolve(res.data)\n//     })\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/recommend.js"],"sourceRoot":""}